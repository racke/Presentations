\usepackage{beamerthemesplit}
\usepackage{verbatim}
\usepackage{hyperref}
\usepackage{listings}
\lstset{language=Perl}

\title{Wikis with Wiki::Toolkit}
\author[racke]{Stefan Hornburg (Racke)\\ \texttt{racke@linuxia.de}}
\date[OPW2010]{Perl Oasis, 16th January 2010}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\section[Outline]{}
\frame{\tableofcontents}

\section{Composing a Wiki::Toolkit Wiki}

\begin{frame}{Composing Wiki}
 \begin{itemize}
  \item<1-> Storage
  \item<2-> Formatter
  \item<3-> Search
  \item<4-> Plugins
 \end{itemize}
\end{frame}

\section{Nodes and Metadata}

\subsection{Metadata}

Arbitrary metadata can be stored alongside with the node.

\begin{lstlisting}
%metadata = {country => 'USA', 
    state => 'Florida',
    city => 'Orlando'};

$wiki->write_node($node, $content, $checksum, \%metadata, $requires_moderation);
\end{lstlisting}

The metadata can be retrieved with the \verb+retrieve_node+ method.

\begin{lstlisting}
%node = $wiki->retrieve_node('Perl Oasis');

for (keys %{$node{metadata}}) {
    ...
}
\end{lstlisting}

\section{Storage Backends}

All storage backends are derived from \verb+Wiki::Toolkit::Store::Database+.

\begin{frame}{Storage Backends}
 \begin{itemize}
  \item MySQL
  \item PostgreSQL
  \item SQLite
 \end{itemize}
\end{frame}

\subsection{Storage Setup}

% notes: cleardb, leaving tables alone
% cleardb doesn't erase tables for search backends

All storage backends can be easily initialized with the corresponding
\verb+Wiki::Toolkit::Setup+ classes.

\lstinputlisting{scripts/setup_mysql}

\subsection{Storage Tables}

\begin{frame}{Storage Tables}
 \begin{itemize}
  \item content
  \item schema\_info
  \item metadata
  \item internal\_links
 \end{itemize}
\end{frame}

\section{Formatters}

The interface for Wiki::Toolkit formatters is really simple, it consists
of a mandatory \verb+format+ and an optional \verb+find_internal_links+
method.

\verb+format+ takes the text in the Wiki format and returns HTML code
suitable for display in a web page.

\verb+find_internal_links+ returns internal links in the Wiki.

\subsection{Options for Formatters}

% see contructor for Wiki::Toolkit:Formatter::UseMod

\subsection{Internal Links}

% Note: \verb+rename_node+ function uses internal_links table.

\subsection{Formatters in CPAN}

\begin{frame}{Available Formatters}
 \begin{itemize}
  \item<1-> MediaWiki
  \item<2-> UseMod
  \item<3-> MarkDown
  \item<4-> POD
 \end{itemize}
\end{frame}

\subsection{Multiple Formatters}

\begin{frame}{Multiple Formatters}
\end{frame}

\subsection{Writing Formatters}

\begin{frame}{Writing Formatters}
\end{frame}

\section{Search}

\begin{frame}{Search}
\end{frame}

\section{Plugins}

\section{Wiki Syntax}
\subsection{Markdown}
Homepage: \url{http://daringfireball.net/projects/markdown/syntax}

Wiki: \url{http://markdown.infogami.com/}

\subsubsection{Emphasis}

\begin{verbatim}
*single asterisks*

_single underscores_

**double asterisks**

__double underscores__
\end{verbatim}

\subsubsection{Links}
Internal links:

\begin{verbatim}
See my [About](/about/) page for details.
\end{verbatim}

\section{Resources}

Homepage: \url{http://www.wiki-toolkit.org/}

Mailing list: \url{http://www.earth.li/cgi-bin/mailman/listinfo/cgi-wiki-dev}

\subsection{Related Projects}
MojoMojo, a Catalyst \& DBIx::Class powered Wiki,
\url{http://search.cpan.org/perldoc?MojoMojo}.

\end{document}
    
%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
