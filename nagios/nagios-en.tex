\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{mathptmx}
\usepackage[scaled=.90]{helvet}
\usepackage{courier}
\usepackage{caption}
\captionsetup{labelformat=empty,labelsep=none}
\usepackage{verbatim}
\usepackage{hyperref}
\usepackage{listings}
% strikethrough (\sout)
\usepackage{ulem}
\lstset{language=Perl,basicstyle=\normalsize,tabsize=3,showstringspaces=false}

\title{Monitoring with Nagios and Check\_MK}
\author[racke]{Stefan Hornburg (Racke)\\ \texttt{racke@linuxia.de}}
\date{DORS/CLUC 2015, Zagreb}

\begin{document}
\maketitle{}

\begin{frame}
  \titlepage
\end{frame}

\tableofcontents

% Introduction
% Why I'm talking about this subject?

\section{Monitoring}

\begin{frame}[fragile]{Monitoring}

\begin{itemize}
\item Why ?
\item Who ?
\item What ?
\end{itemize}
\end{frame}

\subsection{Justification}

\begin{frame}[fragile]{Why ?}
\begin{itemize}
\item Availability of server and services
\item 3rd party services (SLA)
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Who ?}
\begin{itemize}
\item Companies
\item Open Source Projects
\end{itemize}
\end{frame}

% \subsection{Use Cases}
% \begin{frame}[fragile]{Use Cases}
% \begin{itemize}
% \item Inventory
% \item Backup
% \end{itemize}
% \end{frame}

\subsection{Use Case Mailserver}
Early in my career as freelancer I worked on a setup for an ISP
in Zurich, Switzerland. We designed the firewall, web servers
and mail server on our own. 

Back then, it was a much more easy job to do
so, literally no SPAM and Virus. Also monitoring started much
later.

\subsubsection{Basic Checks}

Disk can be eaten up slowly by incoming emails or rather
quickly by runaway applications filling log files.

\begin{frame}{Basic Checks}
\begin{itemize}
\item CPU
\item Memory Usage
\item TCP Connections
\item Disk Usage
\end{itemize}
\end{frame}

\subsubsection{Email Checks}

\begin{frame}{Email Checks I}

% IMAP: max connections (multiple per client)

\begin{itemize}
\item SMTP
\item IMAP/POP
\item Webmail
\end{itemize}
\end{frame}

\begin{frame}{Email Checks II}
\begin{itemize}
\item Virenscanner
\item Spamfilter
\item Database
\end{itemize}
\end{frame}

\begin{frame}{Email Checks III}
% newsletter
% something is going wrong
% PHP worm
\begin{itemize}
\item Queue
\end{itemize}
\end{frame}

\begin{frame}{Email Checks IV}
\begin{itemize}
\item Blacklists
\end{itemize}
\end{frame}

\subsection{Checks}

\begin{frame}[fragile]{Checks}
\begin{itemize}
\item diskspace
\item database
\item stuck jobs
\item products on Amazon
\item orders
\item crashes
\item import files
\item email blacklists
\item backups
\end{itemize}
\end{frame}

\section{Nagios}

\begin{frame}[fragile]{Nagios}
\begin{itemize}
\item Advantages
\item Check States
\item Concerns
\end{itemize}
\end{frame}

\subsection{Advantages}
\begin{frame}[fragile]{Advantages}
\begin{itemize}
\item Flexible
\item Plugins
\item Community
\item Ecosystem
\end{itemize}
\end{frame}

\begin{frame}[fragile]{Check States}
\begin{itemize}
\item OK
\item WARINING 
\item CRITICAL
\item UNKNOWN
\end{itemize}
\end{frame}

\subsection{Concerns}

The German Linux Magazin did a recent survey amongst users
who checked alternatives for out-of-the-box Nagios.

The main two concerns are raised in environments with lots
of servers.

The first one is complicated configuration of big text files
and the other is the scalability.

\begin{frame}{Concerns}

\begin{itemize}
\item Configuration
\item Scalability in large environments
\end{itemize}
\end{frame}

\section{Check\_MK}

\begin{frame}[fragile]{Check\_MK}
\begin{itemize}
\item Benefits
\item Components
\item Installation
\item Practical Advice
\end{itemize}
\end{frame}

\subsection{Benefits}

Which benefits has \verb|Check_MK| over a standard Nagios installation?

\begin{frame}[fragile]{Benefits}
\begin{itemize}
\item Automatic service detection
\item Rule based, hierarchical confirmation
\item High performance through passive checks
\item Creates Nagios configs for you
\end{itemize}
\end{frame}

\subsection{Components}
% Source: Check_MK homepage
\begin{frame}[fragile]{Components}
\begin{itemize}
\item Configuration \& Check Engine
\item Livestatus
\item Multisite
\item WATO
\item Notify
\item Business Intelligence
\item Mobile
\item Event Console
\end{itemize}
\end{frame}

\subsection{Practical Advice}

\section{Slides}

\begin{frame}[fragile]{Resources}
\begin{description}
\item[Check\_MK Homepage] \url{http://mathias-kettner.com/check_mk.html}
\end{description}
\end{frame}

\begin{frame}{Slides}
Slides:
\url{http://www.linuxia.de/talks/dorscluc2015/nagios-en-beamer.pdf}
\end{frame}

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
